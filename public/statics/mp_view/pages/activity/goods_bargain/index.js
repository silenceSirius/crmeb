(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_bargain/index"],{1020:function(t,i,n){"use strict";n.r(i);var e=n("8288"),a=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=a.a},"1bf3":function(t,i,n){"use strict";(function(t,i){var e=n("4ea4");n("4789");e(n("66fd"));var a=e(n("1e11"));t.__webpack_require_UNI_MP_PLUGIN__=n,i(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"1e11":function(t,i,n){"use strict";n.r(i);var e=n("f101"),a=n("1020");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(s);n("f154");var o=n("f0c5"),c=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=c.exports},8288:function(t,i,n){"use strict";(function(t){var e=n("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n("84d8"),s=n("5d9d"),o=n("d1ea"),c=n("86eb"),r=n("5743"),u=n("26cb"),g=e(n("19b6")),h=n("00a0"),d=getApp(),l={mixins:[g.default],components:{home:function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("3b71"))}.bind(null,n)).catch(n.oe)},authorize:function(){n.e("components/Authorize").then(function(){return resolve(n("ad23"))}.bind(null,n)).catch(n.oe)}},data:function(){return{hostUrl:h.HTTP_REQUEST_URL,bargainList:[],page:1,limit:20,loading:!1,loadend:!1,userInfo:{},navH:"",isAuto:!1,isShowAuth:!1,returnShow:!0,picUrl:{},picList:[{bgList:"/statics/system_images/bargain_bg_0.jpeg"},{bgList:"/statics/system_images/bargain_bg_1.jpeg"},{bgList:"/statics/system_images/bargain_bg_2.jpeg"},{bgList:"/statics/system_images/bargain_bg_3.jpeg"},{bgList:"/statics/system_images/bargain_bg_4.jpeg"}]}},computed:(0,u.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(t,i){t&&(this.getUserInfo(),this.getBargainList())},deep:!0},colorStatus:function(t,i){t&&this.colorShow(t)}},onLoad:function(i){var n=this;this.colorStatus||(0,r.colorChange)("color_change").then((function(t){n.colorShow(t.data.status)}));var e=getCurrentPages();this.returnShow=1!==e.length,t.setNavigationBarTitle({title:this.$t("砍价列表")}),this.navH=2.5*d.globalData.navH,this.getBargainList(),this.isLogin&&this.getUserInfo()},methods:{colorShow:function(t){switch(t){case 1:this.picUrl=this.picList[0];break;case 2:this.picUrl=this.picList[1];break;case 3:this.picUrl=this.picList[2];break;case 4:this.picUrl=this.picList[3];break;case 5:this.picUrl=this.picList[4];break;default:this.picUrl=this.picList[2];break}},authColse:function(t){this.isShowAuth=t},getUserInfo:function(){var t=this;(0,o.getUserInfo)().then((function(i){t.$set(t,"userInfo",i.data)}))},goBack:function(){t.navigateBack({delta:1})},onLoadFun:function(t){this.getBargainList(),this.userInfo=t},openSubscribe:function(i){this.isLogin||(0,c.toLogin)();var n="/pages/activity/goods_bargain_details/index?id="+i.id+"&bargain="+this.userInfo.uid;t.showLoading({title:this.$t("正在加载中")}),(0,s.openBargainSubscribe)().then((function(i){t.hideLoading(),t.navigateTo({url:n})})).catch((function(i){t.hideLoading()}))},getBargainList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,(0,a.getBargainList)({page:t.page,limit:t.limit}).then((function(i){t.$set(t,"bargainList",t.bargainList.concat(i.data)),t.$set(t,"page",t.page+1),t.$set(t,"loadend",t.limit>i.data.length),t.$set(t,"loading",!1)})).catch((function(i){t.loading=!1})))}},onReachBottom:function(){this.getBargainList()}};i.default=l}).call(this,n("543d")["default"])},dd21:function(t,i,n){},f101:function(t,i,n){"use strict";n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){}));var e=function(){var t=this.$createElement,i=(this._self._c,this.$t("人正在参与")),n=this.$t("最低"),e=this.$t("￥"),a=this.$t("参与砍价");this.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:e,m3:a}})},a=[]},f154:function(t,i,n){"use strict";var e=n("dd21"),a=n.n(e);a.a}},[["1bf3","common/runtime","common/vendor"]]]);