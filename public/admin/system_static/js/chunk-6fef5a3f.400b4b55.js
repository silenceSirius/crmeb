(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6fef5a3f"],{"23c8":function(t,e,a){},3968:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"i",(function(){return i})),a.d(e,"g",(function(){return o})),a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"j",(function(){return u})),a.d(e,"f",(function(){return c})),a.d(e,"c",(function(){return d})),a.d(e,"d",(function(){return f})),a.d(e,"b",(function(){return p})),a.d(e,"k",(function(){return m})),a("99af");var r=a("6b6c");function n(t){return Object(r.a)({url:"/setting/system_out_account/index",method:"get",params:t})}function i(t){return Object(r.a)({url:"setting/system_out_account/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function o(t){return Object(r.a)({url:"setting/system_out_account/save",method:"post",data:t})}function s(t){return Object(r.a)({url:"setting/system_out_account/update/".concat(t.id),method:"post",data:t})}function l(){return Object(r.a)({url:"setting/system_out_interface/list",method:"get"})}function u(t){return Object(r.a)({url:"setting/system_out_account/set_up/".concat(t.id),method:"put",data:t})}function c(t){return Object(r.a)({url:"setting/system_out_interface/save/".concat(t.id),method:"post",data:t})}function d(t){return Object(r.a)({url:"setting/system_out_interface/info/".concat(t),method:"get"})}function f(t){return Object(r.a)({url:"setting/system_out_interface/edit_name",method:"PUT",data:t})}function p(t){return Object(r.a)({url:"setting/system_out_interface/del/"+t,method:"delete"})}function m(t){return Object(r.a)({url:"setting/system_out_account/text_out_url",method:"post",data:t})}},"3ecf":function(t,e,a){},"4f71":function(t,e,a){"use strict";a("23c8")},7676:function(t,e,a){"use strict";a.r(e),a("b0c0"),a("498a");var r=a("c7eb"),n=a("1da1"),i=a("5530"),o=a("ade3"),s=(a("a9e3"),a("fb6a"),a("14d9"),a("7db0"),a("d3b7"),a("a434"),a("3968")),l=a("95d5"),u=(a("b64b"),a("e9c4"),a("d81d"),a("ac1f"),a("5319"),a("bc3a")),c=(u=a.n(u),a("d708")),d=a("c276"),f=u.a.create({baseURL:c.a.apiBaseURL,timeout:1e4}),p=(u.a.defaults.withCredentials=!0,f.interceptors.request.use((function(t){t.kefu?(a=c.a.apiBaseURL.replace(/adminapi/,"kefuapi"),t.baseURL=a):t.baseURL=c.a.apiBaseURL,t.file&&(t.headers["Content-Type"]="multipart/form-data");try{if(t.headerItem)for(var e in t.headerItem)t.headers[e]=t.headerItem[e]}catch(t){}var a=Object(d.c)("token"),r=Object(d.c)("kefu_token");return(a||r)&&(t.headers["Authori-zation"]=t.kefu?"Bearer "+r:"Bearer "+a),t}),(function(t){return Promise.reject(t)})),f.interceptors.response.use((function(t){var e={};return t.data&&(e="string"==typeof t.data?JSON.parse(t.data):t.data),200!==(t.data?e.status:0)?Promise.reject(e||{msg:"未知错误"}):e}),(function(t){return Promise.reject(t)})),f),m=a("c2c6"),v=(u={name:"",props:{codes:{type:String,default:function(){return""}},readOnly:{type:Boolean,default:function(){return!1}},editorOptions:{type:Object,default:function(){return{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:this.readOnly,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0,useTabStops:!1,fontSize:28,autoIndent:!0}}}},data:function(){return{}},created:function(){},mounted:function(){var t=this;this.monacoEditor=m.editor.create(this.$refs.container,{value:this.codes,language:"json",theme:"vs",automaticLayout:!0,scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:10},lineNumbersMinChars:5,editorOptions:this.editorOptions}),setTimeout((function(){t.monacoEditor.trigger("anyString","editor.action.formatDocument"),t.monacoEditor.setValue(t.monacoEditor.getValue())}),100)},methods:{}},f=(a("bcdf"),a("2877")),u={components:{MonacoEditor:Object(f.a)(u,(function(){var t=this._self._c;return t("div",{staticClass:"monaco-container"},[t("div",{ref:"container",staticClass:"monaco-editor"})])}),[],!1,null,"7ed639eb",null).exports},props:{formValidate:{type:Object,default:function(){return{}}},requestTypeList:{type:Array,default:function(){return[]}},typeList:{type:Array,default:function(){return[]}}},data:function(){return{interfaceData:void 0,paramsType:"Params",editor:"",codes:""}},created:function(){this.interfaceData=this.formValidate,this.interfaceData.request_body=JSON.parse(JSON.stringify(this.interfaceData.request_params))},mounted:function(){},methods:{insertCopy:function(){var t=this;this.$copyText(this.codes).then((function(e){t.$message.success("复制成功")})).catch((function(e){t.$message.error("复制失败")}))},requestData:function(){var t=this;return Object(n.a)(Object(r.a)().mark((function e(){var a,n,o,s,l,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.interfaceData.url,n=t.interfaceData.method,e.t0=t,e.next=5,t.$refs.xTable.getTableData().tableData;case 5:if(e.t1=e.sent,e.t1){e.next=8;break}e.t1=[];case 8:return e.t2=e.t1,o=e.t0.filtersData.call(e.t0,e.t2),e.t3=t,e.next=13,t.$refs.yTable.getTableData().tableData;case 13:if(e.t4=e.sent,e.t4){e.next=16;break}e.t4=[];case 16:return e.t5=e.t4,s=e.t3.filtersData.call(e.t3,e.t5),e.t6=t,e.next=21,t.$refs.zTable.getTableData().tableData;case 21:if(e.t7=e.sent,e.t7){e.next=24;break}e.t7=[];case 24:return e.t8=e.t7,l=e.t6.filtersData.call(e.t6,e.t8),e.t9=t,e.next=29,t.$refs.zaTable.getTableData().tableData;case 29:if(e.t10=e.sent,e.t10){e.next=32;break}e.t10=[];case 32:e.t11=e.t10,u=e.t9.filtersData.call(e.t9,e.t11),u=Object(i.a)(Object(i.a)({},l),u),p({url:a,method:n,params:o,data:s,headerItem:u}).then((function(e){t.codes=e+""})).catch((function(e){t.codes=JSON.stringify(e)}));case 36:case"end":return e.stop()}}),e)})))()},filtersData:function(t){var e=this;try{var a={};return t.map((function(t){if(!t.parentId)for(var r in t)!function(){var n;"attribute"==r&&("array"!==t.type?a[t[r]]=t.value||"":(n=[],t.children.map((function(t,a){n[a]=e.filtersObj(t)})),a[t[r]]=n))}()})),a}catch(t){}},filtersObj:function(t){var e,a=this,r={};for(e in t)!function(){var n;"attribute"==e&&("array"!==t.type?r[t[e]]=t.value||"":(n=[],t.children.map((function(t,e){n[e]=a.filtersObj(t)})),r[t[e]]=n))}();return r},changeTab:function(){"Header"!==this.paramsType||this.interfaceData.headerData||(this.insertEvent("zTable",{attribute:"Content-Type",value:"application/x-www-form-urlencoded"}),this.insertEvent("zaTable"))},insertEvent:function(t,e){var a=this;return Object(n.a)(Object(r.a)().mark((function n(){var o,s,l;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.$refs[t],s="xTable"==t?{attribute:"",type:"string",must:0,value:"",trip:""}:"yTable"==t?{attribute:"",type:"string",value:"",must:0,trip:""}:"zTable"==t?(s={attribute:"",type:"",value:"",trip:""},Object(i.a)(Object(i.a)({},s),e)):"zaTable"==t?{attribute:"token",type:"string",value:"",must:0,trip:""}:{code:"",value:"",solution:""},r.next=4,o.insertAt(s,-1);case 4:return l=r.sent,l=l.row,r.next=8,o.setActiveCell(l,"name");case 8:case"end":return r.stop()}}),n)})))()},insertRow:function(t,e){var a=this;return Object(n.a)(Object(r.a)().mark((function n(){var i,o,s;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a.$refs[e],o="xTable"==e?{attribute:"",type:"string",must:0,value:"",trip:"",id:Date.now(),parentId:t.id}:{code:"",value:"",solution:"",id:Date.now(),parentId:t.id},r.next=4,i.insertAt(o,-1);case 4:return o=r.sent,s=o.row,r.next=8,i.setTreeExpand(t,!0);case 8:return r.next=10,i.setActiveRow(s);case 10:case"end":return r.stop()}}),n)})))()},removeRow:function(t,e){var a=this;return Object(n.a)(Object(r.a)().mark((function n(){var i;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a.$refs[e],r.next=3,i.remove(t);case 3:case"end":return r.stop()}}),n)})))()}}},u=(a("c6fe"),a("4f71"),Object(f.a)(u,(function(){var t=this,e=t._self._c;return t.interfaceData?e("div",{staticClass:"content"},[e("div",{staticClass:"head"},[e("el-input",{scopedSlots:t._u([{key:"prepend",fn:function(){return[e("el-select",{staticStyle:{width:"120px"},model:{value:t.interfaceData.method,callback:function(e){t.$set(t.interfaceData,"method",e)},expression:"interfaceData.method"}},t._l(t.requestTypeList,(function(t,a){return e("el-option",{key:a,attrs:{value:t.value,label:t.label}})})),1)]},proxy:!0}],null,!1,1471772108),model:{value:t.interfaceData.url,callback:function(e){t.$set(t.interfaceData,"url",e)},expression:"interfaceData.url"}}),e("el-button",{staticClass:"ml20",attrs:{type:"primary"},on:{click:t.requestData}},[t._v("请求")]),e("el-button",{staticClass:"ml10 copy-btn",attrs:{type:"success"},on:{click:function(e){return t.insertCopy()}}},[t._v("复制")])],1),e("div",{staticClass:"params"},[e("el-tabs",{staticClass:"mt10",on:{"tab-click":t.changeTab},model:{value:t.paramsType,callback:function(e){t.paramsType=e},expression:"paramsType"}},[e("el-tab-pane",{attrs:{label:"Params",name:"Params"}}),e("el-tab-pane",{attrs:{label:"Body",name:"Body"}}),e("el-tab-pane",{attrs:{label:"Header",name:"Header"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"Params"===t.paramsType,expression:"paramsType === 'Params'"}]},[e("vxe-table",{ref:"xTable",staticClass:"mt10",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.interfaceData.request_params}},[e("vxe-column",{attrs:{field:"attribute",width:"150",title:"属性","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.attribute,callback:function(e){t.$set(r,"attribute",e)},expression:"row.attribute"}})]}}],null,!1,3650624218)}),e("vxe-column",{attrs:{field:"value",title:"参数值","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"row.value"}})]}}],null,!1,3354968205)}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"120","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-select",{attrs:{transfer:""},model:{value:r.type,callback:function(e){t.$set(r,"type",e)},expression:"row.type"}},t._l(t.typeList,(function(t){return e("vxe-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)]}}],null,!1,2339724627)}),e("vxe-column",{attrs:{field:"must",title:"必填",width:"50","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s("1"==a.must?"是":"否"))])]}}],null,!1,2660000870)}),e("vxe-column",{attrs:{field:"trip",width:"150",title:"说明","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.trip,callback:function(e){t.$set(r,"trip",e)},expression:"row.trip"}})]}}],null,!1,3301930489)}),e("vxe-column",{attrs:{title:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return["array"===r.type?e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.insertRow(r,"xTable")}}},[t._v("插入")]):t._e(),e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"xTable")}}},[t._v("删除")])]}}],null,!1,815733303)})],1),e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("xTable")}}},[t._v("添加参数")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"Body"===t.paramsType,expression:"paramsType === 'Body'"}]},[e("vxe-table",{ref:"yTable",staticClass:"mt10",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.interfaceData.request_body}},[e("vxe-column",{attrs:{field:"attribute",width:"150",title:"属性","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.attribute,callback:function(e){t.$set(r,"attribute",e)},expression:"row.attribute"}})]}}],null,!1,3650624218)}),e("vxe-column",{attrs:{field:"value",title:"参数值","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"row.value"}})]}}],null,!1,3354968205)}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"120","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-select",{attrs:{transfer:""},model:{value:r.type,callback:function(e){t.$set(r,"type",e)},expression:"row.type"}},t._l(t.typeList,(function(t){return e("vxe-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)]}}],null,!1,2339724627)}),e("vxe-column",{attrs:{field:"must",title:"必填",width:"50","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s("1"==a.must?"是":"否"))])]}}],null,!1,2660000870)}),e("vxe-column",{attrs:{field:"trip",title:"说明",width:"150","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.trip,callback:function(e){t.$set(r,"trip",e)},expression:"row.trip"}})]}}],null,!1,3301930489)}),e("vxe-column",{attrs:{title:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return["array"===r.type?e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.insertRow(r,"yTable")}}},[t._v("插入")]):t._e(),e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"yTable")}}},[t._v("删除")])]}}],null,!1,1757644183)})],1),e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("yTable")}}},[t._v("添加参数")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"Header"===t.paramsType,expression:"paramsType === 'Header'"}]},[e("vxe-table",{ref:"zTable",staticClass:"mt10",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.interfaceData.headerData}},[e("vxe-column",{attrs:{field:"attribute",width:"300",title:"属性","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.attribute,callback:function(e){t.$set(r,"attribute",e)},expression:"row.attribute"}})]}}],null,!1,3650624218)}),e("vxe-column",{attrs:{field:"value",title:"参数值","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-input",{attrs:{type:"text"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"row.value"}})]}}],null,!1,3354968205)}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"200","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-select",{attrs:{transfer:""},model:{value:r.type,callback:function(e){t.$set(r,"type",e)},expression:"row.type"}},t._l(t.typeList,(function(t){return e("vxe-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)]}}],null,!1,2339724627)}),e("vxe-column",{attrs:{title:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return["array"===r.type?e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.insertRow(r,"zTable")}}},[t._v("插入")]):t._e(),e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"zTable")}}},[t._v("删除")])]}}],null,!1,1552063095)})],1),e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("zTable")}}},[t._v("添加参数")]),e("h4",{staticClass:"mt10 title"},[t._v("全局Header参数")]),e("vxe-table",{ref:"zaTable",staticClass:"mt10",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.interfaceData.allHeaderData}},[e("vxe-column",{attrs:{field:"attribute",width:"300",title:"属性","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s(a.attribute||""))])]}}],null,!1,1745406296)}),e("vxe-column",{attrs:{field:"value",title:"参数值","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s(a.value||""))])]}}],null,!1,4290351983)}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"200","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s(a.type||""))])]}}],null,!1,3546959356)}),e("vxe-column",{attrs:{field:"trip",title:"说明","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){return a=a.row,[e("span",[t._v(t._s(a.trip||""))])]}}],null,!1,786695387)})],1)],1)],1),t.codes?e("div",{staticClass:"res mt10 mb10"},[e("MonacoEditor",{attrs:{codes:t.codes,readOnly:!0}})],1):t._e()]):t._e()}),[],!1,null,"74f79e6b",null).exports),a("2f62"));a("90e7"),u={name:"systemOutInterface",components:{VueTreeList:l.VueTreeList,debugging:u},data:function(){return{value:"",isEdit:!1,nameModal:!1,debuggingModal:!1,formValidate:{},grid:{xl:7,lg:7,md:12,sm:24,xs:24},ruleValidate:{title:[{message:"请输入正确的描述 (不能多于200位数)",trigger:"blur",max:200}]},loading:!1,typeList:[{value:"string",label:"String"},{value:"array",label:"Array"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"null",label:"Null"},{value:"any",label:"Any"}],requestTypeList:[{value:"get",label:"get"},{value:"post",label:"post"},{value:"delete",label:"delete"},{value:"put",label:"put"},{value:"options",label:"options"}],contextData:null,treeData:void 0,buttonProps:{type:"default",size:"small"},methodColor:"#fff"}},watch:Object(o.a)({},"formValidate.method",{deep:!0,handler:function(t,e){t=t.toUpperCase(),"GET"==t?this.methodColor="#61affe":"POST"==t?this.methodColor="#49cc90":"PUT"==t?this.methodColor="#fca130":"DELETE"==t&&(this.methodColor="#f93e3e")}}),computed:Object(i.a)(Object(i.a)({},Object(v.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"50px"},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getInterfaceList("one")},methods:{debugging:function(){this.debuggingModal=!0},onClicksss:function(t){},methodsColor:function(t){return t=t.toUpperCase(),"GET"==t?"#61affe":"POST"==t?"#49cc90":"PUT"==t?"#fca130":"DELETE"==t?"#f93e3e":void 0},insertBefore:function(t){},insertAfter:function(t){},moveInto:function(t){},addTableData:function(){return Object(n.a)(Object(r.a)().mark((function t(){var e;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$table.insertAt(newRow,-1);case 2:return e=t.sent,e=e.row,t.next=6,$table.setActiveCell(e,"name");case 6:case"end":return t.stop()}}),t)})))()},getInterfaceList:function(t){var e=this;Object(s.e)().then((function(t){t.data[0].expand=!1,e.treeData=new l.Tree(t.data),t.data.length&&t.data[0].children.length&&e.onClick(t.data[0].children[0])})).catch((function(t){e.$message.error(t)}))},onClick:function(t){var e=this;t.method&&(this.isEdit=!1,Object(s.c)(t.id).then((function(t){e.formValidate=t.data})).catch((function(t){e.$message.error(t)})))},handleSubmit:function(){var t=this;return Object(n.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formValidate.name){e.next=4;break}return e.abrupt("return",t.$message.warning("请输入接口名称"));case 4:if(t.formValidate.method){e.next=8;break}return e.abrupt("return",t.$message.warning("请选择请求类型"));case 8:if(t.formValidate.url){e.next=10;break}return e.abrupt("return",t.$message.warning("请输入调用方式"));case 10:return e.next=12,t.$refs.xTable.getTableData().tableData;case 12:return t.formValidate.request_params=e.sent,e.next=15,t.$refs.resTable.getTableData().tableData;case 15:return t.formValidate.return_params=e.sent,e.next=18,t.$refs.codeTable.getTableData().tableData;case 18:return t.formValidate.error_code=e.sent,e.next=21,Object(s.f)(t.formValidate).then((function(e){t.isEdit=!1,t.$message.success(e.msg),t.getInterfaceList()})).catch((function(e){t.$message.error(e)}));case 21:case"end":return e.stop()}}),e)})))()},insertEvent:function(t){var e=this;return Object(n.a)(Object(r.a)().mark((function a(){var n,i,o;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.$refs[t],i="xTable"==t?{attribute:"",type:"",must:0,trip:""}:"resTable"==t?{attribute:"",type:"",trip:""}:{code:"",value:"",solution:""},a.next=4,n.insertAt(i,-1);case 4:return i=a.sent,o=i.row,a.next=8,n.setActiveCell(o,"name");case 8:case"end":return a.stop()}}),a)})))()},insertRow:function(t,e){var a=this;return Object(n.a)(Object(r.a)().mark((function n(){var i,o,s;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a.$refs[e],o="xTable"==e?{attribute:"",type:"",must:0,trip:"",id:Date.now(),parentId:t.id}:"resTable"==e?{attribute:"",type:"",trip:"",id:Date.now(),parentId:t.id}:{code:"",value:"",solution:"",id:Date.now(),parentId:t.id},r.next=4,i.insertAt(o,-1);case 4:return o=r.sent,s=o.row,r.next=8,i.setTreeExpand(t,!0);case 8:return r.next=10,i.setActiveRow(s);case 10:case"end":return r.stop()}}),n)})))()},removeRow:function(t,e){var a=this;return Object(n.a)(Object(r.a)().mark((function n(){var i;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a.$refs[e],r.next=3,i.remove(t);case 3:case"end":return r.stop()}}),n)})))()},add:function(){this.value="",this.formValidate.id=0,this.nameModal=!0},clickMenu:function(t,e){1==t?(this.formValidate={},this.formValidate.pid=e?e.id:0,this.formValidate.id=0,this.isEdit=!0):2==t?(this.value=e.name||"",this.formValidate.id=e?e.id:0,this.nameModal=!0):3==t?this.onDel(e):4==t&&this.add()},addFac:function(t){this.formValidate={id:t?t.id:0},this.isEdit=!0},asyncOK:function(){var t=this,e={id:this.formValidate.id||0,type:0,name:this.value};Object(s.f)(e).then((function(e){t.$message.success(e.msg),t.getInterfaceList()})).catch((function(e){t.$message.error(e)}))},handleContextMenu:function(t,e,a){a.left=Number(a.left.slice(0,-2))+75+"px",this.contextData=t},handleContextCreateFolder:function(){},handleContextCreateFile:function(){},renderContent:function(t,e){var a=this,r=e.root,n=e.node,o=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t(resolveComponent("Icon"),{type:"ios-paper-outline",style:{marginRight:"8px"}}),t("span",o.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t(resolveComponent("Button"),Object(i.a)(Object(i.a)({},this.buttonProps),{},{icon:"ios-add",style:{marginRight:"8px"},onClick:function(){a.append(o)}})),t(resolveComponent("Button"),Object(i.a)(Object(i.a)({},this.buttonProps),{},{icon:"ios-remove",onClick:function(){a.remove(r,n,o)}}))])])},clickDir:function(t,e,a){this.navItem=t,this.pathname=t.pathname},append:function(t){var e=t.children||[];e.push({title:"appended node",expand:!0}),this.$set(t,"children",e)},remove:function(t,e,a){var r=t.find((function(t){return t===e})).parent;t=t.find((function(t){return t.nodeKey===r})).node,a=t.children.indexOf(a);t.children.splice(a,1)},onMouseOver:function(t,e,a,r,n){},onDel:function(t){var e=this;this.$msgbox({title:"提示",message:"删除后无法恢复，请确认后删除！",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确定",iconClass:"el-icon-warning",confirmButtonClass:"btn-custom-cancel"}).then((function(){Object(s.b)(t.id).then((function(a){e.$message.success(a.msg),t.remove()})).catch((function(t){e.$message.error(t)}))})).catch((function(){}))},onChangeName:function(t){var e=this;"blur"==t.eventType&&(t={name:t.newName,id:t.id},Object(s.d)(t).then((function(t){e.$message.success(t.msg)})).catch((function(t){e.$message.error(t)})))},onAddNode:function(t){},addNode:function(){var t=new l.TreeNode({name:"new node",isLeaf:!1});this.data.children||(this.data.children=[]),this.data.addChildren(t)},getNewTree:function(){this.newTree=function t(e){var a,r={};for(a in e)"children"!==a&&"parent"!==a&&(r[a]=e[a]);if(e.children&&0<e.children.length){r.children=[];for(var n=0,i=e.children.length;n<i;n++)r.children.push(t(e.children[n]))}return r}(this.data)}}},a("e1b8"),o=Object(f.a)(u,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"main"},[e("el-card",{staticClass:"ivu-mt mr20 card-tree",attrs:{bordered:!1,shadow:"never"}},[e("div",{staticClass:"tree"},[e("div",{staticClass:"main-btn"},[e("el-button",{staticClass:"mb10",attrs:{type:"primary",long:""},on:{click:function(e){return t.clickMenu(4)}}},[t._v("新增分类")])],1),e("vue-tree-list",{staticClass:"tree-list",attrs:{model:t.treeData,"default-tree-node-name":"默认文件夹","default-leaf-node-name":"默认接口名","default-expanded":!0},on:{"change-name":t.onChangeName,"delete-node":t.onDel},scopedSlots:t._u([{key:"leafNameDisplay",fn:function(a){return[e("div"),e("div",{staticClass:"tree-node",class:{node:a.model.method,open:t.formValidate.id==a.model.id},on:{click:function(e){return e.stopPropagation(),t.onClick(a.model)}}},[e("span",{class:{open:t.formValidate.id==a.model.id}},[t._v(t._s(a.model.name))]),e("el-dropdown",{attrs:{size:"small"},on:{command:function(e){t.clickMenu(e,a.model)}}},[e("span",{staticClass:"el-dropdown-link"},[e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("template",{slot:"dropdown"},[e("el-dropdown-menu",[a.model.method?t._e():e("el-dropdown-item",{attrs:{command:"1"}},[t._v("新增接口")]),a.model.method?t._e():e("el-dropdown-item",{attrs:{command:"2"}},[t._v("编辑分类名")]),e("el-dropdown-item",{attrs:{command:"3"}},[t._v("删除")])],1)],1)],2)],1)]}},{key:"treeNodeIcon",fn:function(a){return[a.model.method?e("span",{staticClass:"req-method",style:{color:t.methodsColor(a.model.method),"font-weight":(a.model.id,t.formValidate.id,"500")}},[t._v(t._s("delete"==a.model.method?"DEL":a.model.method||""))]):t._e()]}}])},[e("span",{staticClass:"icon",attrs:{slot:"addTreeNodeIcon"},slot:"addTreeNodeIcon"}),e("span",{staticClass:"icon",attrs:{slot:"addLeafNodeIcon"},slot:"addLeafNodeIcon"}),e("span",{staticClass:"icon",attrs:{slot:"editNodeIcon"},slot:"editNodeIcon"}),e("span",{staticClass:"icon",attrs:{slot:"delNodeIcon"},slot:"delNodeIcon"})])],1)]),e("el-card",{staticClass:"ivu-mt right-card",attrs:{bordered:!1,shadow:"never"}},[e("div",{staticClass:"data"},[e("div",{staticClass:"eidt-sub"},[e("div",{staticClass:"name"},[t._v("\n            "+t._s(t.formValidate.name)+"\n          ")]),e("div",[t.formValidate.id?e("el-button",{staticClass:"submission mr20",attrs:{type:"primary"},on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v(t._s(t.isEdit?"返回":"编辑"))]):t._e(),t.isEdit?e("el-button",{staticClass:"submission",attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("保存")]):t._e()],1)]),e("el-form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{rules:t.ruleValidate,model:t.formValidate,"label-width":"100px","label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"title"},[t._v("接口信息")]),e("el-form-item",{attrs:{label:"接口名称：",prop:"name"}},[t.isEdit?e("el-input",{staticClass:"perW20",attrs:{type:"text",rows:4,placeholder:"请输入"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name","string"==typeof e?e.trim():e)},expression:"formValidate.name"}}):e("span",[t._v(t._s(t.formValidate.name||""))])],1),e("el-form-item",{attrs:{label:"请求类型：",prop:"name"}},[t.isEdit?e("el-select",{staticStyle:{width:"120px"},model:{value:t.formValidate.method,callback:function(e){t.$set(t.formValidate,"method",e)},expression:"formValidate.method"}},t._l(t.requestTypeList,(function(t,a){return e("el-option",{key:a,attrs:{value:t.value,label:t.label}})})),1):e("span",{staticClass:"req-method",style:"background-color:"+t.methodColor},[t._v(t._s(t.formValidate.method||""))])],1),e("el-form-item",{attrs:{label:"功能描述：",prop:"name"}},[t.isEdit?e("el-input",{staticClass:"perW20",attrs:{type:"textarea",rows:4,placeholder:"请输入"},model:{value:t.formValidate.describe,callback:function(e){t.$set(t.formValidate,"describe","string"==typeof e?e.trim():e)},expression:"formValidate.describe"}}):e("span",{staticClass:"text-area"},[t._v(t._s(t.formValidate.describe||""))])],1)],1)],1),e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"title"},[t._v("调用方式")]),e("el-form-item",{attrs:{label:"调用内容：",prop:"url"}},[t.isEdit?e("el-input",{staticClass:"perW20",attrs:{type:"text",rows:4,placeholder:"请输入"},model:{value:t.formValidate.url,callback:function(e){t.$set(t.formValidate,"url","string"==typeof e?e.trim():e)},expression:"formValidate.url"}}):e("span",[t._v(t._s(t.formValidate.url||""))])],1),e("el-form-item",{attrs:{label:"请求参数："}},[e("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"xTable",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.formValidate.request_params}},[e("vxe-column",{attrs:{field:"attribute",width:"300",title:"属性","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.attribute,callback:function(e){t.$set(r,"attribute",e)},expression:"row.attribute"}}):e("span",[t._v(t._s(r.attribute||""))])]}}])}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"200","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-select",{attrs:{transfer:""},model:{value:r.type,callback:function(e){t.$set(r,"type",e)},expression:"row.type"}},t._l(t.typeList,(function(t){return e("vxe-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1):e("span",[t._v(t._s(r.type||""))])]}}])}),e("vxe-column",{attrs:{field:"must",title:"必填",width:"100","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-checkbox",{attrs:{"unchecked-value":"0","checked-value":"1"},model:{value:r.must,callback:function(e){t.$set(r,"must",e)},expression:"row.must"}}):e("span",[t._v(t._s("1"==r.must?"是":"否"))])]}}])}),e("vxe-column",{attrs:{field:"trip",title:"说明","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.trip,callback:function(e){t.$set(r,"trip",e)},expression:"row.trip"}}):e("span",[t._v(t._s(r.trip||""))])]}}])}),t.isEdit?e("vxe-column",{attrs:{title:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return["array"===r.type?e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.insertRow(r,"xTable")}}},[t._v("插入")]):t._e(),e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"xTable")}}},[t._v("删除")])]}}],null,!1,815733303)}):t._e()],1),t.isEdit?e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("xTable")}}},[t._v("添加参数")]):t._e()],1),e("el-form-item",{attrs:{label:"返回参数："}},[e("vxe-table",{ref:"resTable",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},loading:t.loading,"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.formValidate.return_params}},[e("vxe-column",{attrs:{field:"attribute",title:"属性",width:"300","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.attribute,callback:function(e){t.$set(r,"attribute",e)},expression:"row.attribute"}}):e("span",[t._v(t._s(r.attribute||""))])]}}])}),e("vxe-column",{attrs:{field:"type",title:"类型",width:"200","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-select",{attrs:{transfer:""},model:{value:r.type,callback:function(e){t.$set(r,"type",e)},expression:"row.type"}},t._l(t.typeList,(function(t){return e("vxe-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1):e("span",[t._v(t._s(r.type||""))])]}}])}),e("vxe-column",{attrs:{field:"trip",title:"说明","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.trip,callback:function(e){t.$set(r,"trip",e)},expression:"row.trip"}}):e("span",[t._v(t._s(r.trip||""))])]}}])}),t.isEdit?e("vxe-column",{attrs:{title:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return["array"===r.type?e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.insertRow(r,"resTable")}}},[t._v("插入")]):t._e(),e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"resTable")}}},[t._v("删除")])]}}],null,!1,1761332343)}):t._e()],1),t.isEdit?e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("resTable")}}},[t._v("添加参数")]):t._e()],1)],1)],1),e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"title"},[t._v("调用示例")]),e("el-form-item",{attrs:{label:"请求数据示例：",prop:"request_example"}},[t.isEdit?e("el-input",{staticClass:"perW20",attrs:{type:"textarea",rows:4,placeholder:"请输入"},model:{value:t.formValidate.request_example,callback:function(e){t.$set(t.formValidate,"request_example","string"==typeof e?e.trim():e)},expression:"formValidate.request_example"}}):e("span",{staticClass:"text-area"},[t._v(t._s(t.formValidate.request_example||""))])],1),e("el-form-item",{attrs:{label:"返回数据示例：",prop:"return_example"}},[t.isEdit?e("el-input",{staticClass:"perW20",attrs:{type:"textarea",rows:4,placeholder:"请输入"},model:{value:t.formValidate.return_example,callback:function(e){t.$set(t.formValidate,"return_example","string"==typeof e?e.trim():e)},expression:"formValidate.return_example"}}):e("span",{staticClass:"text-area"},[t._v(t._s(t.formValidate.return_example||""))])],1),e("el-form-item",{attrs:{label:"错误码："}},[e("vxe-table",{ref:"codeTable",attrs:{resizable:"","show-overflow":"","keep-source":"","row-id":"id","print-config":{},"export-config":{},loading:t.loading,"tree-config":{transform:!0,rowField:"id",parentField:"parentId"},data:t.formValidate.error_code}},[e("vxe-column",{attrs:{field:"code",title:"错误码","tree-node":"","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.code,callback:function(e){t.$set(r,"code",e)},expression:"row.code"}}):e("span",[t._v(t._s(r.code||""))])]}}])}),e("vxe-column",{attrs:{field:"value",title:"错误码取值","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.value,callback:function(e){t.$set(r,"value",e)},expression:"row.value"}}):e("span",[t._v(t._s(r.value||""))])]}}])}),e("vxe-column",{attrs:{field:"solution",title:"解决方案","edit-render":{}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[t.isEdit?e("vxe-input",{attrs:{type:"text"},model:{value:r.solution,callback:function(e){t.$set(r,"solution",e)},expression:"row.solution"}}):e("span",[t._v(t._s(r.solution||""))])]}}])}),t.isEdit?e("vxe-column",{attrs:{title:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("vxe-button",{attrs:{type:"text",status:"primary"},on:{click:function(e){return t.removeRow(r,"codeTable")}}},[t._v("删除")])]}}],null,!1,3586511496)}):t._e()],1),t.isEdit?e("el-button",{staticClass:"mt10",attrs:{type:"primary"},on:{click:function(e){return t.insertEvent("codeTable")}}},[t._v("添加参数")]):t._e()],1)],1)],1)],1)],1)])],1),e("el-dialog",{attrs:{visible:t.nameModal,width:"470px",title:"分组名称"},on:{"update:visible":function(e){t.nameModal=e},"on-ok":t.asyncOK}},[e("label",[t._v("分组名称：")]),e("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入分组名称"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.nameModal=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.asyncOK}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{visible:t.debuggingModal,title:t.formValidate.name,width:"1000px"},on:{"update:visible":function(e){t.debuggingModal=e}}},[t.debuggingModal?e("debugging",{attrs:{formValidate:t.formValidate,typeList:t.typeList,requestTypeList:t.requestTypeList}}):t._e()],1)],1)}),[],!1,null,"6b9c8808",null);e.default=o.exports},"8e09":function(t,e,a){},"8f71":function(t,e,a){},bcdf:function(t,e,a){"use strict";a("8e09")},c6fe:function(t,e,a){"use strict";a("3ecf")},e1b8:function(t,e,a){"use strict";a("8f71")}}]);