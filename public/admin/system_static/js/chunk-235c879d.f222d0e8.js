(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-235c879d"],{"0741":function(t,a,e){"use strict";e.r(a);var l=e("c7eb"),n=e("1da1"),i=e("5530"),r=(e("498a"),e("d81d"),e("a434"),e("2f62")),s=e("90e7");i={data:function(){return{addlangModal:!1,traTabLoading:!1,langType:{},formValidate:{is_admin:0,type_id:1,remarks:"",page:1,limit:20},total:0,FormLoading:!0,loading:!1,ruleValidate:{code:[{required:!0,message:"请输入状态码/文字",trigger:"blur"}],remarks:[{required:!0,message:"请输入文字",trigger:"blur"}]},langColumns:[{title:"语言类型",key:"language_name",width:120},{title:"对应语言翻译",slot:"lang_explain",minWidth:250}],langData:[],langFormData:{is_admin:0,code:"",remarks:"",edit:0,list:[]},tabList:[],FromData:null,extractId:0,code:null}},computed:Object(i.a)(Object(i.a)({},Object(r.d)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"80px"},labelPosition:function(){return this.isMobile?"top":"right"}}),mounted:function(){this.getList()},methods:{translate:function(){var t=this;if(!this.langFormData.remarks.trim())return this.$message.warning("请先输入翻译内容");this.traTabLoading=!0,Object(s.M)({text:this.langFormData.remarks}).then((function(a){t.langFormData.list.map((function(t){t.lang_explain=a.data[t.type_id]})),t.traTabLoading=!1})).catch((function(a){t.traTabLoading=!1,t.$message.error(a.msg)}))},add:function(){this.langFormData.list=this.langType.langType.map((function(t){return{language_name:t.title,lang_explain:"",remarks:"",type_id:t.value}})),this.addlangModal=!0},ok:function(){var t=this;if(!this.langFormData.remarks.trim())return this.FormLoading=!1,this.$nextTick((function(){t.FormLoading=!0})),this.$message.error("请先输入语言说明");Object(s.L)(this.langFormData).then((function(a){t.addlangModal=!1,t.$message.success(a.msg),t.getList()})).catch((function(a){t.FormLoading=!1,t.$nextTick((function(){t.FormLoading=!0})),t.$message.error(a.msg)}))},edit:function(t){var a=this;this.langFormData.is_admin=this.formValidate.is_admin,this.code=t.code,Object(s.J)({code:t.code}).then((function(t){a.langFormData.list=t.data.list,a.langFormData.code=t.data.code,a.langFormData.remarks=t.data.remarks,a.langFormData.edit=1,a.addlangModal=!0})).catch((function(t){a.loading=!1,a.$message.error(t.msg)}))},del:function(t,a,e){var l=this;a={title:a,num:e,url:"setting/lang_code/del/".concat(t.id),method:"DELETE",ids:""};this.$modalSure(a).then((function(t){l.$message.success(t.msg),l.tabList.splice(e,1)})).catch((function(t){l.$message.error(t.msg)}))},modalChange:function(){this.langFormData={is_admin:0,name:"",code:"",list:[]},this.code=null},selChange:function(){this.formValidate.page=1,this.getList()},getList:function(){var t=this;this.loading=!0,Object(s.K)(this.formValidate).then(function(){var a=Object(n.a)(Object(l.a)().mark((function a(e){return Object(l.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.loading=!1,t.tabList=e.data.list,t.total=e.data.count,t.langType=e.data.langType;case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()).catch((function(a){t.loading=!1,t.$message.error(a.msg)}))}}},e("e728"),r=e("2877"),e=Object(r.a)(i,(function(){var t=this,a=t._self._c;return a("div",[a("el-card",{staticClass:"ivu-mb-16",attrs:{bordered:!1,shadow:"never","body-style":{padding:0}}},[a("div",{staticClass:"padding-add"},[a("el-form",{attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":"right",inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"语言分类："}},[a("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:t.selChange},model:{value:t.formValidate.is_admin,callback:function(a){t.$set(t.formValidate,"is_admin",a)},expression:"formValidate.is_admin"}},t._l(t.langType.isAdmin,(function(t,e){return a("el-option",{key:e,attrs:{label:t.title,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"语言类型："}},[a("el-select",{staticClass:"form_content_width",attrs:{clearable:""},on:{change:t.selChange},model:{value:t.formValidate.type_id,callback:function(a){t.$set(t.formValidate,"type_id",a)},expression:"formValidate.type_id"}},t._l(t.langType.langType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.title,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入语言备注"},model:{value:t.formValidate.remarks,callback:function(a){t.$set(t.formValidate,"remarks",a)},expression:"formValidate.remarks"}})],1),a("el-form-item",[a("el-button",{staticClass:"userSearch",attrs:{type:"primary"},on:{click:t.selChange}},[t._v("搜索")])],1)],1)],1)]),a("el-alert",{attrs:{type:"warning",closable:!1}},[a("template",{slot:"title"},[a("p",{staticClass:"alert_title"},[t._v("页面语言")]),t._v("\n      添加页面语言，添加完成之后状态码为中文文字，移动端页面使用 $t(`xxxx`)，js文件中使用 this.t(`xxxx`) 或者使用\n      that.t(`xxxx`) 实现语言的切换"),a("br"),a("br"),a("p",{staticClass:"alert_title"},[t._v("接口语言")]),t._v("\n      添加接口语言，添加完成之后状态码为6位数字，接口返回提示信息时，直接返回对应的错误码即可实现语言的切换\n    ")])],2),a("el-card",{staticClass:"mt14",attrs:{bordered:!1,shadow:"never"}},[a("el-row",{staticClass:"mb14"},[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加语句")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"ivu-mt",attrs:{data:t.tabList,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id))])]}}])}),a("el-table-column",{attrs:{label:"原语句","min-width":"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.remarks))])]}}])}),a("el-table-column",{attrs:{label:"对应语言翻译","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.lang_explain))])]}}])}),a("el-table-column",{attrs:{label:"状态码/文字(接口/页面调用参考)","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.code))])]}}])}),a("el-table-column",{attrs:{label:"语言类型","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.language_name))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-divider",{attrs:{direction:"vertical"}}),a("a",{on:{click:function(a){return t.del(e.row,"删除语言",e.$index)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"acea-row row-right page"},[t.total?a("pagination",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{"update:page":function(a){return t.$set(t.formValidate,"page",a)},"update:limit":function(a){return t.$set(t.formValidate,"limit",a)},pagination:t.getList}}):t._e()],1)],1),a("el-dialog",{attrs:{visible:t.addlangModal,width:"720px",title:"添加需要翻译的语句"},on:{"update:visible":function(a){t.addlangModal=a},closed:t.modalChange}},[a("el-form",{ref:"langFormData",attrs:{model:t.langFormData,rules:t.ruleValidate}},[a("el-form-item",{staticClass:"mb20",attrs:{label:"应用端：","label-width":"120px"}},[a("el-radio-group",{staticClass:"mr15",attrs:{type:"button"},model:{value:t.langFormData.is_admin,callback:function(a){t.$set(t.langFormData,"is_admin",a)},expression:"langFormData.is_admin"}},t._l(t.langType.isAdmin,(function(e,l){return a("el-radio",{key:l,attrs:{label:e.value}},[t._v(t._s(e.title))])})),1)],1),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:t.langFormData.edit,callback:function(a){t.$set(t.langFormData,"edit",a)},expression:"langFormData.edit"}}),a("el-form-item",{staticClass:"mb20",attrs:{label:"需要翻译的语句：",prop:"remarks"}},[a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"请输入需要添加翻译的语句",search:""},on:{"on-search":t.translate},model:{value:t.langFormData.remarks,callback:function(a){t.$set(t.langFormData,"remarks",a)},expression:"langFormData.remarks"}},[a("el-button",{attrs:{slot:"append",type:"primary"},on:{click:t.translate},slot:"append"},[t._v("翻译")])],1)],1),a("el-form-item",{staticClass:"mb20",attrs:{prop:"remark"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.traTabLoading,expression:"traTabLoading"}],ref:"langTable",attrs:{data:t.langFormData.list,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"语言类型",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.language_name))])]}}])}),a("el-table-column",{attrs:{label:"对应语言翻译","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"priceBox",model:{value:e.row.lang_explain,callback:function(a){t.$set(e.row,"lang_explain",a)},expression:"scope.row.lang_explain"}})]}}])})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(a){t.addlangModal=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确定")])],1)],1)],1)}),[],!1,null,"6b74b50b",null);a.default=e.exports},e728:function(t,a,e){"use strict";e("fdf8")},fdf8:function(t,a,e){}}]);